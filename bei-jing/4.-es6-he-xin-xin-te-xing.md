# 4. ES6 核心特性

本章描述了 ES6 的核心特性。这些特性很容易采用；其余特性主要看读者的兴趣了。我会通过相应的ES5代码解释每个特性。

### 4.1 从 var 到 const/let

在 ES5 中，是通过 var 来声明变量。这些变量都是函数作用域，它们的作用域是最内层的封闭函数。var 偶尔会表现的令人困惑。这儿有个例子：

```javascript
var x = 3;
function func(randomize) {
    if (randomize) {
        var x = Math.random(); // (A) scope: whole function
        return x;
    }
    return x; // accesses the x from line A
}
func(false); // undefined
```

func() 返回 undefined 可能令人惊讶。如果重写代码让它更接近反映实际发生了什么，就知道为什么了：

```javascript
var x = 3;
function func(randomize) {
    var x;
    if (randomize) {
        x = Math.random();
        return x;
    }
    return x;
}
func(false); // undefined
```

ja

### 4.2 从 IIFEs 到 代码块

### 4.3 从字符串拼接到模版语法

### 4.4 从函数表达式到箭头函数

### 4.5 处理多个返回值

### 4.6 从 for 到 forEach() 到 for-of

### 4.7 处理参数默认值

### 4.8 处理命名参数

### 4.9 从 arguments 到剩余参数

### 4.10 从 apply() 到展开运算符(...)

### 4.11 从 concat() 到展开运算符(...)

### 4.12 从对象字面量函数表达式到方法定义

### 4.13 从构造函数到类

### 4.14 从自定义错误构造函数到 Error 的子类

### 4.15 从 objects 到 Maps

### 4.16 新的字符串方法

### 4.17 新的数组方法

### 4.18 从 CommonJS 模块到 ES6 模块

### 4.19 接下来做什么
